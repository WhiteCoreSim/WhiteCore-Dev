<!-- User Estate edit/create -->

{IsAuthenticatedBegin}
<h2>{UserName} {EstateManagerText}</h2>

  <form class="form-inline" id="estate_edit_form" action="user/estate_edit.html" method="post">
    <div class="row w-100">
      <div class="col-md-8 offset-md-2">

        <div class="form-group">
          <label for="EstateName" class="col-4 col-form-label text-right mr-2">{EstateNameText}</label>
          <input class="form-control" style="width:300px;"minlength="3" id="EstateName" require="true" name="EstateName" type="text" size="25" maxlength="30" value="{EstateName}">
        </div>

        <div class="form-group">
          <label for="PricePerMeter" class="col-4 col-form-label text-right mr-2">{PricePerMeterText}</label>
          <input class="form-control" style="width:100px;"minlength="3" id="PricePerMeter" require="true" name="PricePerMeter" type="text" size="25" maxlength="30" value="{PricePerMeter}">
        </div>

        <div class="form-group mb-1">
          <label for="PublicAccess" class="col-4 col-form-label text-right mr-2">{PublicAccessText}</label>
          <div class="input-group" style="width:100px">
            <select class="custom-select form-control" id="PublicAccess" name="PublicAccess">
              {PublicAccessArrayBegin}
                <option value="{Index}" {selected}>{Value}</option>
              {PublicAccessArrayEnd}
            </select>
          </div>
        </div>

        <div class="form-group mb-1">
          <label for="AllowVoice" class="col-4 col-form-label text-right mr-2">{AllowVoiceText}</label>
          <div class="input-group" style="width:100px">
            <select class="custom-select form-control" id="AllowVoice" name="AllowVoice">
              {AllowVoiceArrayBegin}
                <option value="{Index}" {selected}>{Value}</option>
              {AllowVoiceArrayEnd}
            </select>
          </div>
        </div>

        <div class="form-group mb-1">
          <label for="TaxFree" class="col-4 col-form-label text-right mr-2">{TaxFreeText}</label>
          <div class="input-group" style="width:100px">
            <select class="custom-select form-control" id="TaxFree" name="TaxFree">
              {TaxFreeArrayBegin}
                <option value="{Index}" {selected}>{Value}</option>
              {TaxFreeArrayEnd}
            </select>
          </div>
        </div>

        <div class="form-group mb-1">
          <label for="PublicAccess" class="col-4 col-form-label text-right mr-2">{PublicAccessText}</label>
          <div class="input-group" style="width:100px">
            <select class="custom-select form-control" id="PublicAccess" name="PublicAccess">
              {PublicAccessArrayBegin}
                <option value="{Index}" {selected}>{Value}</option>
              {PublicAccessArrayEnd}
            </select>
          </div>
        </div>

        <div class="form-group mb-1">
          <label for="AllowDirectTeleport" class="col-4 col-form-label text-right mr-2">{AllowDirectTeleportText}</label>
          <div class="input-group" style="width:100px">
            <select class="custom-select form-control" id="AllowDirectTeleport" name="AllowDirectTeleport">
              {AllowDirectTeleportArrayBegin}
                <option value="{Index}" {selected}>{Value}</option>
              {AllowDirectTeleportArrayEnd}
            </select>
          </div>
        </div>
      </div>

        <div class="row w-100 mt-3">
<!--          <input hidden type="hidden" id="EstateID" name="EstateID" value="{EstateID}" />
            <input type="hidden" name="action" value="check">  -->
            <div class="col">
              <button class="btn-danger" style="width:200px;" 
                     onclick="submitupdate('estate_edit_form', 'estateid={EstateID}&delete=true', 'user-estate_manager');">
                {Delete}
              </button>

            </div>
          <div class="col-6 pull-right">
            <button onclick="loadusercontent('user-estate_manager');">{Cancel}</button>
             <button class="btn-info pull-right" style="width:200px;" 
                     onclick="submitupdate('estate_edit_form', 'estateid={EstateID}&update=true', 'user-estate_manager');">
                {Submit}
              </button>

          </div>
      </div>
    </div>
  </form>

</div>


<!--
      <div class="rTableRow">
        <div class="rTableCell">
          <p id="regname_label">{EstateNameText}*</p>
        </div>
        <div class="rTableCell"><input id="EstateName" maxlength="30" name="EstateName" size="25" type="text" value="{EstateName}" /></div>
        <div class="rTableCell"> </div>
        <div class="rTableCell"> </div>
      </div>
      <div class="rTableRow">
        <div class="rTableCell">
          <p>{PricePerMeterText}</p>
        </div>
        <div class="rTableCell"><input id="PricePerMeter" style="width: 80px;" name="PricePerMeter" size="8" type="text" value="{PricePerMeter}" /></div>
      </div>
      <div class="rTableRow">
        <div class="rTableCell">
          <p>{PublicAccessText}</p>
        </div>
        <div class="rTableCell"><select id="PublicAccess" name="PublicAccess">{PublicAccessArrayBegin}
          <option value="{Index}">{Value}</option>
        {PublicAccessArrayEnd}</select></div>
        <div class="rTableCell">
          <p>{AllowVoiceText}</p>
        </div>
        <div class="rTableCell"><select id="AllowVoice" name="AllowVoice">{AllowVoiceArrayBegin}
          <option value="{Index}">{Value}</option>
        {AllowVoiceArrayEnd}</select></div>
        <div class="rTableCell">
          <p>{TaxFreeText}</p>
        </div>
        <div class="rTableCell"><select id="TaxFree" name="TaxFree">{TaxFreeArrayBegin}
          <option value="{Index}">{Value}</option>
        {TaxFreeArrayEnd}</select></div>
        <div class="rTableCell">
          <p>{AllowDirectTeleportText}</p>
        </div>
        <div class="rTableCell"><select id="AllowDirectTeleport" name="AllowDirectTeleport">{AllowDirectTeleportArrayBegin}
          <option value="{Index}">{Value}</option>
        {AllowDirectTeleportArrayEnd}</select></div>
      </div>
      <div class="rTableRow">
        <div class="rTableCell"> </div>
        <div class="rTableCell"> </div>
        <div class="rTableCell"><input name="action" type="hidden" value="check" /> <button id="Submit" style="color: #888;" disabled="disabled" name="Submit" type="Submit">{Submit}</button></div>
        <div class="rTableCell"> </div>
        <div class="rTableCell"><button id="Cancel" name="Cancel" type="Cancel">{Cancel}</button></div>
      </div>
    </div>
  </div>

  <!--
<table>
  <tbody>
    <tr>
      <td class="region_info_left" style="width:120px;"><p id="regname_label">{EstateNameText}*</p></td>

      <td class="region_info_right" colspan="4"><input minlength="3" id="EstateName" require="true" label="EstateName" name="EstateName" type="text" size="25" maxlength="30" value="{EstateName}"></td>
    <td class="region_info_left"></td>
    <td class="region_info_right"></td>
    </tr>
    <tr>
    <td class="region_info_left"><p>{PricePerMeterText}</p></td>
    <td class="region_info_left">
        <input style="width:80px;"id="PricePerMeter" require="true" label="PricePerMeter" name="PricePerMeter" type="text" size="8" value="{PricePerMeter}" />
    </td>
  <tr>
    <td class="region_info_left"><p>{PublicAccessText}</p></td>
    <td class="region_info_left">
      <select name="PublicAccess" id="PublicAccess">
{PublicAccessArrayBegin}
      <option value="{Index}">{Value}</option>
{PublicAccessArrayEnd}
      </select>
    </td>
   <td class="region_info_left"><p>{AllowVoiceText}</p></td>
     <td class="region_info_left">
      <select name="AllowVoice" id="AllowVoice">
{AllowVoiceArrayBegin}
      <option value="{Index}">{Value}</option>
{AllowVoiceArrayEnd}
      </select>
    </td>
   <td class="region_info_left"><p>{TaxFreeText}</p></td>
     <td class="region_info_left">
      <select name="TaxFree" id="TaxFree">
{TaxFreeArrayBegin}
      <option value="{Index}">{Value}</option>
{TaxFreeArrayEnd}
      </select>
    </td>
     <td class="region_info_left"><p >{AllowDirectTeleportText}</p></td>
   <td class="region_info_left">
      <select name="AllowDirectTeleport" id="AllowDirectTeleport">
{AllowDirectTeleportArrayBegin}
      <option value="{Index}">{Value}</option>
{AllowDirectTeleportArrayEnd}
      </select>
    </td>

  </tr>


    <tr>
    <td colspan="5"></td>
    <td class="region_info_left"></td>
    <input hidden type="hidden" id="EstateID" name="EstateID" value="{EstateID}" />
    <input hidden type="hidden" label="Submit" id="Submit" name="Submit" value="Submit" />
    <td class="region_info_right" style="width:100px;">
    <input type="hidden" name="action" value="check">
      <button disabled style="color:#888;" id="Submit" name="Submit" type="Submit">{Submit}</button>
    </input>
    </td>
      <td></td>
      <td class="region_info_left" >
        <button id="Cancel" name="Cancel" type="Cancel" onclick="document.location = '/?page=user_estatemanager';">{Cancel}</button>
      </td>
    </tr>
  </tbody>
</table>
-->
<!--
</div>
</form>

<script>
  /* attach a submit handler to the form */
  $("#estate_form").submit(function(event) {

    /* stop form from submitting normally */
    event.preventDefault();
    /* get some values from elements on the page: */
    var $form = $( this ),
        url = $form.attr( 'action' );
    /* Send the data using post and put the results in a div */
    $.post( url, $form.serialize(),
      function( data ) {
    $("#info_message").empty().append(data);
      }
    );
  });
</script>
-->
{IsAuthenticatedEnd}
