


<h2>{AddEventText}</h2>
<div id="info_message" class="error_message"></div>
<div id="error_message" class="error">{ErrorMessage}</div>


<form id="add_event_form" action="events/add_event.html" method="post">
<div id="add_event" class="col-xs-12 col-sm-10 col-sm-offset-1 text-left">
  <div class="rTable">
    <div class="rTableBody">
      <div class="rTableRow">
        <div class="rTableCell">
          <label>{EventNameText}</label>
        </div>
        <div class="rTableCell" style="width:80%">
          <input class="form-control" id="eventName" name="eventName" size="90" type="text" />
        </div>
      </div>
      <div class="rTableRow">
        <div class="rTableCell"></div>
        <div class="rTableCell"><label>{EventTimeInfoText}</label></div>
      </div>
      <div class="rTableRow">
        <div class="rTableCell"><label>{EventDateText}</label></div>
        <div class="rTableCell input-group date" id="eventDate" style="width:22%;">
          <input class="form-control" id="eventDateVal" name="eventDate" type="text" value="{EventDate}" />
          <span class="input-group-addon">
            <i class="glyphicon glyphicon-th"></i>
          </span>
        </div>
        <div class="rTableCell text-right" style="width:140px;"><label>{EventTimeText}</label></div>
        <div class="rTableCell">
          <select class="form-control" id="eventTime" name="eventTime">
          {EventTimesArrayBegin}
            <option value="{Index}" {selected}>{Value}</option>
          {EventTimesArrayEnd}
          </select>
        </div>
      </div>
      <div class="rTableRow">
        <div class="rTableCell"><label>{EventDurationText}</label></div>
        <div class="rTableCell">
          <select class="form-control" id="eventDuration" name="eventDuration">
          {EventDurationsArrayBegin}
            <option value="{Index}" {selected}>{Value}</option>
          {EventDurationsArrayEnd}
          </select>
        </div>
      </div>
      <div class="rTableRow">
        <div class="rTableCell"><label>{EventLocationText}</label></div>
        <div class="rTableCell">
          <select class="form-control" id="eventLocation" name="eventLocation">
            {EventLocationsArrayBegin}
              <option disabled="disabled" value="{Index}">{Value}</option>
            {EventLocationsArrayEnd}
          </select>
        </div>
      </div>
      <div class="rTableRow">
        <div class="rTableCell"><label>{EventCategoryText}</label></div>
        <div class="rTableCell">
          <select class="form-control" id="eventCategory" name="eventCategory">
            {EventCategoriesArrayBegin}
              <option selected="selected" value="{Index}">{Value}</option>
            {EventCategoriesArrayEnd}
          </select>
        </div>
        <div class="rTableCell text-right"><label>{EventCoverChargeText}</label></div>
        <div class="rTableCell">
          <input class="form-control" id="eventCoverCharge" style="width: 80px;" name="eventCoverCharge" type="text" value="{EventCoverCharge}" />
        </div>
      </div>
      <div class="rTableRow">
        <div class="rTableCell"><label>{EventDescriptionText}</label></div>
        <div class="rTableCell" style="height:auto;width:80%"">
          <textarea class="form-control" id="eventDescription" cols="90" name="eventDescription" rows="10"></textarea>
        </div>
      </div>
      <div class="rTableRow">
        <div class="col-xs-3 col-xs-offset-9" style="margin-top:15px;margin-bottom:15px;">
          <button class="btn btn-success" id="Submit" name="Submit" type="Submit">{Submit}</button>
        </div>
      </div>
    </div>
  </div>
</div>
</form>

<script>
  //$(function() {
  //  $('#eventDate').datepicker({
  //    showTrigger: '<button type="button" class="trigger">...</button>'});
  //});

  <!--  /* date pickers */ -->
  $(function() {
    $( "#eventDate" ).datepicker({
      orientation: "bottom left",
      //defaultDate: "-1w",
      changeMonth: true,
      numberOfMonths: 3,
      onClose: function( selectedDate ) {
        $( "#eventDate" ).datepicker( "option", "minDate", selectedDate );
      }
    });
  });

  /* attach a submit handler to the form */
  $("#add_event_form").submit(function(event) {

    /* stop form from submitting normally */
    event.preventDefault();
    /* get some values from elements on the page: */
    var $form = $( this ),
        url = $form.attr( 'action' );
    /* Send the data using post and put the results in a div */
    $.post( url, $form.serialize(),
      function( data ) {
    $("#info_message").empty().append(data);
      }
    );
  });
</script>

