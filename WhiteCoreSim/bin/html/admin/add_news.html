<!-- params to replace
{SystemURL}
{SystemName}
{AddNewsText}              Add News
{ErrorMessage}             Error Message Handling
{NewsItemTitle}            News Item Title
{NewsItemText}             News Item Text
{Submit}                   Submit

-->

{IsAdminAuthenticatedBegin}
<h2>{SystemName}: {AddNewsText}</h2>
<div id="info_message" class="error_message"></div>
<form id="add_news_form" action="admin/add_news.html" method="post">
<table id="add_news">
  <caption></caption>

  <thead>
    <tr>
      <th class="add_news_left"></th>
      <th class="add_news_right"></th>
    </tr>
  </thead>

  <tfoot>
    <tr>
      <th class="add_news_left"></th>
      <th class="add_news_right"></th>
    </tr>
  </tfoot>

  <tbody>
    <tr>
      <td class="add_news_left"><p>{NewsItemTitle}</p></td>
      <td class="add_news_right"><input name="NewsTitle" type="text" id="NewsTitle" size="119"/></td>
    </tr>
    <tr>
      <td class="add_news_left"><p>{NewsItemText}</p></td>
      <td class="add_news_right"><textarea name="NewsText" cols="91" rows="10" id="NewsText"></textarea></td>
    </tr>
    <tr>
      <td class="add_news_left"></td><input type="hidden" label="Submit" id="Submit" name="Submit" value="Submit" />
      <td class="add_news_right"><button id="Submit" name="Submit" type="Submit">{Submit}</button></td>
    </tr>
  </tbody>
</table>
</form>

<script>
  /* attach a submit handler to the form */
  $("#add_news_form").submit(function(event) {

    /* stop form from submitting normally */
    event.preventDefault();
    /* get some values from elements on the page: */
    var $form = $( this ),
        url = $form.attr( 'action' );
    /* Send the data using post and put the results in a div */
    $.post( url, $form.serialize(),
      function( data ) {
    $("#info_message").empty().append(data);
      }
    );
  });
</script>
{IsAdminAuthenticatedEnd}
