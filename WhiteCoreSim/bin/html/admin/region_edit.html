<!-- Region edit/create -->

<div class="col98">

  {IsAuthenticatedBegin}
  <h2>{SystemName}: {RegionManagerText}</h2>
  
  <form class="form-inline" id="region_edit_form" action="admin/region_edit.html" method="POST">
    <div class="row w-100">
      <div class="col-8">

        <div class="form-group">
          <label for="RegionName" class="col-3 col-form-label text-right mr-2">{RegionNameText}</label>
          <input class="form-control" style="width:300px;"minlength="3" id="RegionName" require="true" name="RegionName" type="text" size="25" maxlength="30" value="{RegionName}">
        </div>

        {IfRegionEditBegin}
        <div class="form-group">
          <label for="RegionName" class="col-3 col-form-label text-right mr-2">{RegionLocationText}</label>
            <label for="RegionLocX" class="col-form-label mr-2">X:  {RegionLocX}</label>
            <input id="RegionLocX" name="RegionLocX" type="hidden" value="{RegionLocX}" />
            <div class="col-1"></div>
            <label for="RegionLocY" class="col-form-label mr-2">Y:  {RegionLocY}</label>
            <input id="RegionLocY" name="RegionLocY" type="hidden" value="{RegionLocY}" />
        </div>

        <div class="form-group">
          <label for="RegionSizeX" class="col-3 col-form-label text-right mr-2">{RegionSizeText}</label>
          <label for="RegionSizeX" class="col-form-label mr-2">X:  {RegionSizeX}</label>
          <input id="RegionSizeX" name="RegionSizeX" type="hidden" value="{RegionSizeX}" />
          <div class="col-1"></div>
          <label for="RegionSizeY" class="col-form-label mr-2">Y:  {RegionSizeY}</label>
          <input id="RegionSizeY" name="RegionSizeY" type="hidden" value="{RegionSizeY}" />
        </div>
        {IfRegionEditEnd}
        {IfRegionNewBegin}
        <div class="form-group">
          <label for="RegionName" class="col-3 col-form-label text-right mr-2">{RegionLocationText}</label>
            <label for="RegionLocX" class="col-form-label mr-2">X: </label>
            <input class="form-control" id="RegionLocX" name="RegionLocX" type="text" value="{RegionLocX}" />
            <div class="col-1"></div>
            <label for="RegionLocY" class="col-form-label mr-2">Y: </label>
            <input class="form-control" id="RegionLocY" name="RegionLocY" type="text" value="{RegionLocY}" />
        </div>

        <div class="form-group mb-1">
          <label for="RegionSizePreset" class="col-3 col-form-label text-right mr-2">{RegionSizeText}</label>
          <div class="input-group" style="width:180px">
            <select class="custom-select form-control" id="RegionSizePreset" name="RegionSizePreset">
              {RegionSizeArrayBegin}
                <option value="{Index}" {selected}>{Value}</option>
              {RegionSizeArrayEnd}
            </select>
          </div>
        </div>
        {IfRegionNewEnd}

        <div class="form-group mb-1">
          <label for="RegionType" class="col-3 col-form-label text-right mr-2">{RegionTypeText}</label>
          <div class="input-group" style="width:180px">
            <select class="custom-select form-control" id="RegionType" name="RegionType">
              {RegionTypeArrayBegin}
                <option value="{Index}" {selected}>{Value}</option>
              {RegionTypeArrayEnd}
            </select>
          </div>
        </div>

        <div class="form-group mb-1">
          <label for="RegionPresetType" class="col-3 col-form-label text-right mr-2">{RegionPresetText}</label>
          <div class="input-group" style="width:180px">
            <select class="custom-select form-control" id="RegionPresetType" name="RegionPresetType">
              {RegionPresetTypeArrayBegin}
                <option value="{Index}" {selected}>{Value}</option>
              {RegionPresetTypeArrayEnd}
            </select>
          </div>
        </div>

        <div class="form-group mb-1">
          <label for="RegionTerrain" class="col-3 col-form-label text-right mr-2">{RegionTerrainText}</label>
          <div class="input-group" style="width:240px">
            <select class="custom-select form-control" id="RegionTerrain" name="RegionTerrain">
              {RegionTerrainArrayBegin}
                <option value="{Index}" {selected}>{Value}</option>
              {RegionTerrainArrayEnd}
            </select>
          </div>
        </div>

        <div class="form-group mb-1">
          <label for="EstateIdent" class="col-3 col-form-label text-right mr-2">{EstateText}</label>
          <div class="input-group" style="width:240px">
            <select class="custom-select form-control" id="EstateIdent" name="EstateIdent">
              {EstateListArrayBegin}
                <option value="{Index}" {selected}>{Value}</option>
              {EstateListArrayEnd}
            </select>
          </div>
        </div>

      </div> <!-- left -->

      <div class="col-4 text-center">
        <img src="{RegionImageURL}" alt="{RegionName}" title="{RegionName}" />
      </div>

    </div>  <!-- top row -->


    <!-- advanced stuff here -->
    <div class="row w-100 mb-1">
      <div class="form-group w-100">
        <label for="RegionCapacity" class=" col-3 col-form-label text-right mr-2">{RegionCapacityText}</label>
        <input class="form-control" id="RegionCapacity" style="width:120px;" name="RegionCapacity" type="text" value="{RegionCapacity}" />

        <div class="form-group w-50">
          <label for="RegionPortText" class="col-3 col-form-label text-right mr-2">{RegionPortText}</label>
          <input class="form-control"  style="width:120px;" id="RegionPort" name="RegionPort" type="text" value="{RegionPort}" />
        </div>
      </div>
    </div>

    <div class="row w-100 mb-2">
      <div class="col-1"></div>
        <div class="col">
        <div class="form-group">
          <label for="RegionVisibility" class="col-form-label mr-2">{RegionVisibilityText}</label>
          <select class="custom-select form-control"  style="width:90px" id="RegionVisibility" name="RegionVisibility">
            {RegionVisibilityArrayBegin}
              <option value="{Index}" {selected}>{Value}</option>
            {RegionVisibilityArrayEnd}
          </select>
        </div>
        </div>

        <div class="col">
          <div class="form-group">
          <label for="RegionInfinite" class="col-form-label mr-2">{RegionInfiniteText}</label>
          <select class="custom-select form-control"  style="width:90px;" id="RegionInfinite" name="RegionInfinite">
            {RegionInfiniteArrayBegin}
              <option value="{Index}" {selected}>{Value}</option>
            {RegionInfiniteArrayEnd}
          </select>
        </div>
      </div>

      <div class="col">
        <div class="form-group">
          <label for="RegionDelayedStart" class="col-form-label mr-2">{RegionDelayStartupText}</label>
          <select class="custom-select form-control" style="width:120px" id="RegionDelayedStart" name="RegionDelayedStart">
            {RegionDelayStartupArrayBegin}
              <option value="{Index}" {selected}>{Value}</option>
            {RegionDelayStartupArrayEnd}
          </select>
        </div>
      </div>
    </div>

    {IfRegionNewBegin}
    <div class="row w-100 mb-2">
      <div class="col-3 text-right">{RegionPresetText}</div>
      <div class="col-9">
        <div id="rgnpresetcarousel" class="carousel slide" data-ride="carousel" style="height: 190px;">
          <div class="carousel-inner col-10">
            {RegionPresetsArrayBegin}
            <div class="carousel-item" data-interval="">
              <img class="d-block rounded float-right" title="{RegionArchiveName}" src="{RegionArchiveSnapshotURL}" alt="{RegionArchiveName}" style="width:150px;height:150px;margin-right:45px;" />
              <div class="carousel-caption d-none d-md-block" style="right:50%;">
                  <input class="form-check-input" type="radio" id="{RegionArchiveName}" name="{RegionArchiveName}" value="{RegionArchiveName}" checked/>
                  <label class="form-check-label" for="{RegionArchiveName}">&nbsp;&nbsp{RegionArchiveName}</label>
              </div>
            </div>
            {RegionPresetsArrayEnd}
          </div>
        </div>

        <a class="carousel-control-prev" href="#rgnpresetcarousel" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#rgnpresetcarousel" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>

    <div class="row w-100 mb-2">
      <div class="col-3 text-right">{RegionCustomText}</div>
      <div class="col-9">
        <input type="file" name="customPreset" multiple="" disabled>
      </div>
    </div>
    {IfRegionNewEnd}

    <div class="row w-100 mt-3">
<!--      <input hidden type="hidden" id="RegionServerURL" name="RegionServerURL" value="{RegionServerURL}" />
      <input hidden type="hidden" id="RegionID" name="RegionID" value="{RegionID}" />
        <input type="hidden" name="action" value="check">  -->
        <div class="col"></div>
      <div class="col-6 pull-right">
        <button onclick="loadusercontent('userlandmanage');">{Cancel}</button>
         <button class="btn-info pull-right" style="width:200px;" 
                 onclick="submitupdate(
                  'region_edit_form',
                  'regionid={RegionID}&regionurl={RegionServerURL}&update=true',
                  'admin-region_manager');">
            {Submit}
          </button>

      </div>
    </div>

  </form>
</div>

<script>

  $(function() {
    $('.carousel').carousel({
      interval: 5000
    });
    $('.carousel-item').first().addClass('active');

    $("#rgnpresetcarousel input[type='radio']").change(function() {
      $("#rgnpresetcarousel input[type='radio']").prop('checked',false);
      $(this).prop('checked', true);
    });

    /*  $('.regionarchivecarousel').jCarouselLite({
          btnNext: '.next-horiz',
          btnPrev: '.prev-horiz',
          visible: 4
      });
      */
  });

  /* attach a submit handler to the form */
  //$("#region_form").submit(function(event) {

    /* stop form from submitting normally */
  //  event.preventDefault();
    /* get some values from elements on the page: */
  //  var $form = $( this ),
  //      url = $form.attr( 'action' );
    /* Send the data using post and put the results in a div */
  //  $.post( url, $form.serialize(),
  //    function( data ) {
  //  $("#info_message").empty().append(data);
  //    }
  //  );
  //});
</script>
{IsAuthenticatedEnd}
