<!-- registration form -->

{IfNoRegistrationsBegin}
<!--#include file="/noregistrations.html" -->
{IfNoRegistrationsEnd}

{IfRegistrationsBegin}
<h2>{SystemName}: {RegistrationText}</h2>
<div id="error_message" class="error">{ErrorMessage}</div>

<form id="register_form" action="{SubmitURL}" method="POST">
<div style ="display: inline-block;"><table>
  <caption></caption>

  <thead>
    <tr>
      <th class="register_left"></th>
      <th class="register_right" colspan="3"></th>
    </tr>
  </thead>

  <tfoot>
    <tr>
      <th class="register_left"></th>
      <th class="register_right" colspan="3"></th>
    </tr>
  </tfoot>

  <tbody>
    <tr>
      <td class="register_left"><p id="regname_label">{AvatarNameText}*</p></td>
      <td class="register_right" colspan="3"><input minlength="3" id="AvatarName" require="true" label="AvatarName" name="AvatarName" type="text" size="25" maxlength="30" value="{AvatarName}"></td>
	  <td class="register_left"> Enter your avatar name</td>
    </tr>
    <tr>
      <td class="register_left"><p id="password_label">{AvatarPasswordText}*</p></td>
      <td class="register_right" colspan="3"><input minlength="6" compare="AvatarPassword2" require="true" label="AvatarPassword" id="AvatarPassword" name="AvatarPassword" type="password" size="30" maxlength="15"></td>
	  <td class="register_left"> Your login password</td>
    </tr>
    <tr>
      <td class="register_left"><p>{AvatarPasswordConfirmationText}*</p></td>
      <td class="register_right" colspan="3"><input minlength="6" require="true" label="AvatarPassword2" id="AvatarPassword2" name="AvatarPassword2" type="password" size="30" maxlength="15"></td>
    </tr>
{IsAdminAuthenticatedBegin}
<!-- Only admins can set scope IDs -->
    <tr>
      <td class="register_left"><p>{AvatarScopeText}*</p></td>
      <td class="register_right" colspan="3"><input minlength="6" require="true" label="AvatarScope" id="AvatarScope" name="AvatarScope" type="text" size="40" maxlength="15" value="00000000-0000-0000-0000-000000000000"></td>
    </tr>
{IsAdminAuthenticatedEnd}
    <tr>
      <td class="register_left"><p>{FirstNameText}</p></td>
      <td class="register_right" colspan="3"><input label="FirstName" id="FirstName" name="FirstName" type="text" size="25" maxlength="15" value=""></td>
    </tr>
    <tr>
      <td class="register_left"><p>{LastNameText}</p></td>
      <td class="register_right" colspan="3"><input label="LastName" id="LastName" name="LastName" type="text" size="25" maxlength="15" value=""></td>
    </tr>
<!-- greythane - removed as the address details are not really relevant now
    <tr>
      <td class="register_left"><p>{UserAddressText}</p></td>
      <td class="register_right" colspan="3"><input label="UserAddress" id="UserAddress" name="UserAddress" type="text" size="50" maxlength="50" value=""></td>
    </tr>
    <tr>
      <td class="register_left"><p>{UserZipText}</p></td>
      <td class="register_right" colspan="3"><input label="UserZip" id="UserZip" name="UserZip" type="text" size="25" maxlength="15" value=""></td>
    </tr>
-->
    <tr>
      <td class="register_left"><p>{UserCityText}</p></td>
      <td class="register_right" colspan="3"><input label="UserCity" id="UserCity" name="UserCity" type="text" size="25" maxlength="15" value=""></td>
    </tr>
    <tr>
      <td class="register_left"><p>{UserDOBText}</p></td>
      <td class="register_dob">
	    <select id="UserDOBMonth" require="true" name='UserDOBMonth'>
{MonthsArrayBegin}
		  <option value="{Value}">{Value}</option>
{MonthsArrayEnd}
		</select>
	  </td>
      <td class="register_dob">
		<select id="UserDOBDay" require="true" name='UserDOBDay'>
{DaysArrayBegin}
		  <option value="{Value}">{Value}</option>
{DaysArrayEnd}
		</select>
	  </td>
      <td class="register_dob">
		<select id="UserDOBYear" require="true" name='UserDOBYear'>
{YearsArrayBegin}
		  <option value="{Value}">{Value}</option>
{YearsArrayEnd}
		</select>
	  </td>
    </tr>
    <tr>
      <td class="register_left"><p>{UserEmailText}*</p></td>
      <td class="register_right" colspan="3"><input label="UserEmail" id="UserEmail" name="UserEmail" type="text" size="40" maxlength="40" value=""></td>
	  <td class="register_left"> (For password recovery only)</td>
    </tr>
    <tr>
      <td class="register_left"><p>{UserHomeRegionText}*</p></td>
      <td class="register_dob">
	    <select id="UserHomeRegion" require="true" name="UserHomeRegion" style="width:120px;">
{RegionListArrayBegin}
		  <option value="{RegionUUID}">{RegionName}</option>
{RegionListArrayEnd}
		</select>
	  </td>
    </tr>

{IsAdminAuthenticatedBegin}
<!-- Only admins can set membership types -->
    <tr>
      <td class="register_left"><p>{UserTypeText}*</p></td>
      <td class="register_dob">
	    <select id="UserType" require="true" name="UserType" style="width:120px;">
{UserTypeArrayBegin}
		  <option value="{Index}">{Value}</option>
{UserTypeArrayEnd}
		</select>
	  </td>
    </tr>
{IsAdminAuthenticatedEnd}

    <tr>
      <td class="register_left">Avatar Selection</td>
      <td class="register_left" colspan="5" valign="top">
	    <div class="carousel">
         <div class="prev-horiz">◄</div>
		 <div class="next-horiz">►</div>
		 <center>
         <div class= "avatararchivecarousel" style="height: 190px;">
           <ul id="avatarcarousel" class="jcarousel-skin-aurora">
{AvatarArchiveArrayBegin}
	       <li>
		     <div class="avatar_archive_screenshot">
		       <label for="{AvatarArchiveName}" alt="{AvatarArchiveName}" title="{AvatarArchiveName}">{AvatarArchiveName}</label>
			   <input type="radio" id="{AvatarArchiveName}" name="AvatarArchive" value="{AvatarArchiveName}" alt="{AvatarArchiveName}" title="{AvatarArchiveName}">
			   <img src="{AvatarArchiveSnapshotURL}" alt="{AvatarArchiveName}" title="{AvatarArchiveName}" />
		     </div>
	       </li>
{AvatarArchiveArrayEnd}
         </ul>
		</div>
		</center>
		</div>
	  </td>
    </tr>
    <tr>
      <td class="register_left"><p>{TermsOfServiceText}</p></td>
      <td class="register_right" colspan="4"><textarea name="TosText" cols="90" rows="10" id="TosText">{ToSMessage}</textarea></td>
    </tr>
    <tr>
      <td class="register_left"><p>{TermsOfServiceAccept}</p></td>
      <td class="register_right" colspan="3"><input class="checkbox" id="checkbox" type="checkbox" name="ToSAccept" value="Accepted" /><label for="checkbox">{Accept}</label></td>
    </tr>
    <tr>
	  <td class="register_left"></td><input hidden type="hidden" label="Submit" id="Submit" name="Submit" value="Submit" />
      <td class="register_right" colspan="3"><input type="hidden" name="action" value="check"><button id="Submit" name="Submit" type="Submit">{Submit}</button></input></td>
    </tr>
  </tbody>
</table></div>
</form>

<script>
  $(function() {
    $(".avatararchivecarousel").jCarouselLite({
        btnNext: ".next-horiz",
        btnPrev: ".prev-horiz"
    });
  });


  /* attach a submit handler to the form */
  $("#register_form").submit(function(event) {

    /* stop form from submitting normally */
    event.preventDefault();
    /* get some values from elements on the page: */
    var $form = $( this ),
        url = $form.attr( 'action' );
    /* Send the data using post and put the results in a div */
    $.post( url, $form.serialize(),
      function( data ) {
		$("#error_message").empty().append(data);
      }
    );
  });
</script>
{IfRegistrationsEnd}
